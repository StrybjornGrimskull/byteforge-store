<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPU Details - <span th:text="${product.name}"></span></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .specs-table {
            margin-top: 20px;
        }
        .product-image {
            max-width: 100%;
            height: auto;
        }
        .product-header {
            margin-bottom: 30px;
        }
        .price-badge {
            font-size: 1.5rem;
            padding: 10px 20px;
        }
        .brand-logo {
            height: 40px;
            margin-right: 15px;
            object-fit: contain;
        }
        .stock-badge {
            font-size: 1rem;
            padding: 5px 10px;
        }
        .btn-add-to-cart {
            transition: all 0.3s ease;
        }
        .btn-add-to-cart:disabled {
            background-color: #6c757d;
            border-color: #6c757d;
            opacity: 0.7;
            cursor: not-allowed;
        }
        .specs-table th {
            width: 30%;
        }
        .nav-tabs .nav-link.active {
            font-weight: bold;
            border-bottom: 3px solid #0d6efd;
        }
    </style>
</head>
<body>
<div class="container mt-4 mb-5">
    <!-- Breadcrumb navigation -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a th:href="@{/}">Catigories</a></li>
            <li class="breadcrumb-item">
                <a th:href="@{/products/mvc/list(categoryId=${product.categoryId})}"
                   th:text="${product.categoryName}"></a>
            </li>
            <li class="breadcrumb-item active" aria-current="page" th:text="${product.name}"></li>
        </ol>
    </nav>

    <!-- Main product information -->
    <div class="row product-header">
        <div class="col-md-6">
            <img th:src="@{'/uploads/' + ${product.imageUrl}}"
                 alt="GPU image"
                 class="product-image img-fluid mb-3"
                 onerror="this.src='https://via.placeholder.com/600x400?text=Product+Image'">
        </div>
        <div class="col-md-6">
            <h1 class="mb-3" th:text="${product.name}"></h1>
            <div class="d-flex align-items-center mb-3">
                <img th:src="@{'/uploads/' + ${product.brandLogo}}"
                     alt="Brand logo"
                     class="brand-logo"
                     onerror="this.src='https://via.placeholder.com/100x40?text=Brand+Logo'">
            </div>

            <div class="d-flex align-items-center mb-4">
                <span class="badge bg-success price-badge me-3" th:text="'$' + ${product.price}"></span>
                <span th:if="${product.stockQuantity > 0}"
                      class="badge bg-success stock-badge">In Stock</span>
                <span th:unless="${product.stockQuantity > 0}"
                      class="badge bg-danger stock-badge">Out of Stock</span>
            </div>

            <p class="lead mb-4" th:text="${product.shortDescription}"></p>

            <div class="d-grid gap-2 d-md-flex mt-4">
                <button th:classappend="${product.stockQuantity <= 0} ? 'disabled' : ''"
                        class="btn btn-primary btn-lg btn-add-to-cart me-2"
                        type="button"
                        th:disabled="${product.stockQuantity <= 0}">
                    Add to Cart
                </button>
                <button class="btn btn-outline-secondary btn-lg" type="button">
                    <i class="bi bi-heart"></i> Wishlist
                </button>
            </div>
        </div>
    </div>

    <!-- GPU specifications -->
    <div class="card specs-table mt-5">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">GPU Specifications</h3>
        </div>
        <div class="card-body">
            <table class="table table-striped" th:if="${product.spec != null}">
                <tbody>
                <tr>
                    <th scope="row">Memory Size</th>
                    <td th:text="${product.spec.memorySize} + ' GB'"></td>
                </tr>
                <tr>
                    <th scope="row">Memory Type</th>
                    <td th:text="${product.spec.memoryType}"></td>
                </tr>
                <tr>
                    <th scope="row">Bus Width</th>
                    <td th:text="${product.spec.busWidth} + '-bit'"></td>
                </tr>
                <tr>
                    <th scope="row">Base Clock</th>
                    <td th:text="${product.spec.baseClock} + ' MHz'"></td>
                </tr>
                <tr>
                    <th scope="row">Boost Clock</th>
                    <td th:text="${product.spec.boostClock} + ' MHz'"></td>
                </tr>
                <tr>
                    <th scope="row">TDP</th>
                    <td th:text="${product.spec.tdp} + ' W'"></td>
                </tr>
                <tr>
                    <th scope="row">Length</th>
                    <td th:text="${product.spec.length} + ' mm'"></td>
                </tr>
                <tr>
                    <th scope="row">Display Outputs</th>
                    <td th:text="${product.spec.displayOutputs}"></td>
                </tr>
                <tr>
                    <th scope="row">Release Year</th>
                    <td th:text="${product.releaseYear}"></td>
                </tr>
                <tr>
                    <th scope="row">Warranty</th>
                    <td th:text="${product.warrantyMonths} + ' months'"></td>
                </tr>
                </tbody>
            </table>
            <div th:unless="${product.spec != null}" class="alert alert-warning">
                Specifications for this product are not available.
            </div>
        </div>
    </div>

    <!-- Additional sections -->
    <div class="mt-5">
        <ul class="nav nav-tabs" id="productTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">Description</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="shipping-tab" data-bs-toggle="tab" data-bs-target="#shipping" type="button" role="tab">Shipping & Returns</button>
            </li>
        </ul>
        <div class="tab-content p-4 border border-top-0 rounded-bottom">
            <div class="tab-pane fade show active" id="description" role="tabpanel">
                <h4>Product Description</h4>
                <p>Detailed product description would appear here. In a real application, this field should come from the database.</p>
                <div th:if="${product.spec != null}">
                    <h5 class="mt-4">Technical Details</h5>
                    <ul>
                        <li th:if="${product.spec.memorySize != null}">Memory: <span th:text="${product.spec.memorySize} + 'GB ' + ${product.spec.memoryType}"></span></li>
                        <li th:if="${product.spec.baseClock != null}">Base Clock: <span th:text="${product.spec.baseClock} + ' MHz'"></span></li>
                        <li th:if="${product.spec.boostClock != null}">Boost Clock: <span th:text="${product.spec.boostClock} + ' MHz'"></span></li>
                    </ul>
                </div>
            </div>
            <div class="tab-pane fade" id="reviews" role="tabpanel">
                <h4>Customer Reviews</h4>
                <p>Product reviews would appear here. In a real application, this would include a review form and list of existing reviews.</p>
                <div class="alert alert-info">
                    No reviews yet. Be the first to review this product!
                </div>
            </div>
            <div class="tab-pane fade" id="shipping" role="tabpanel">
                <h4>Shipping Information</h4>
                <p>Standard shipping: 3-5 business days</p>
                <p>Express shipping: 1-2 business days (additional charge)</p>
                <h4 class="mt-4">Return Policy</h4>
                <p>30-day money back guarantee</p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>